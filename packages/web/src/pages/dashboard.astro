---
import { Button } from "@/components/ui/button";
import DashboardLayout from "@/layout/dashboard-layout.astro";
import { checkoutLink } from "@/lib/api";
import { createCheckout } from "@/lib/stripe";

const { userId, redirectToSignIn } = Astro.locals.auth();

if (!userId) {
	return redirectToSignIn({
		returnBackUrl: Astro.request.url,
	});
}
---
<DashboardLayout
	title="Dashboard"
	buttons={[{
		label: "Docs",
		href: "https://docs.giolt.com"
	}]}
>
	<a
		href={checkoutLink}
	>
		<Button>
			Checkout
		</Button>
	</a>
</DashboardLayout>
